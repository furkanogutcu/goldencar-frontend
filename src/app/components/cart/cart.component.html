<div class="row">
    <div class="col-md-8">
        <div *ngIf="cartItems.length!==0" class="row">
            <h3>Sepetim ({{cartItems.length}} Ürün)</h3><br>
        </div>
        <div *ngIf="cartItems.length===0" class="row align-items-center">
            <div class="col-md-8">
                <h4>Sepetinde ürün bulunmamaktadır.</h4>
            </div>
            <div class="col-md-4">
                <button routerLink="/cars" class="btn btn-primary text-center" type="button"><strong>Alışverişe başla</strong></button>
            </div>            
        </div>
        <br>
        <div *ngFor="let cartItem of cartItems" class="card">
            <div style="display: flex; flex: 1 1 auto;">
                <div routerLink="/cars/car-details/{{cartItem.car.id}}" class="d-flex align-items-center">
                    <img class="" [src]="getImagePath(cartItem.car.carImages[0].imagePath)"
                        height="80" width="120" alt="...">
                </div>
                <div class="card-body">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h6 class="card-title ">{{cartItem.car.brandName}} {{cartItem.car.modelName}}</h6>

                            <div class="row">
                                <p class="card-text">
                                    <small class="text-muted">Kiralama Süresi: {{showDate(cartItem.rentDate)}} - {{showDate(cartItem.returnDate)}} ({{getRentalPeriod(cartItem.rentDate,cartItem.returnDate)}} gün)<br></small>
                                </p>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="row d-flex justify-content-end align-items-center">
                                <div class="col-md-7">
                                    <p class="card-text text-danger text-nowrap">
                                        <strong>{{cartItem.car.dailyPrice * getRentalPeriod(cartItem.rentDate,cartItem.returnDate) | currency:"":""}}₺</strong>
                                    </p>
                                </div>
                                <div class="col-md-5">
                                    <div class="text-end">
                                        <button type="button" (click)="removeFromCart(cartItem.car)" class="btn btn-danger btn-sm">Sil</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div *ngIf="cartItems.length!==0" class="card">
            <div class="card-body">
                <h5 class="card-title">Sipariş Özeti</h5>
                <p class="card-text">
                <ul class="list-group">
                    <li class="list-group-item border border-light">
                        <small>
                            <span class="float-start">Toplam kiralama süresi: </span>
                            <span class="float-end"><strong>{{calculateTotalRentalPeriod()}} gün</strong></span>
                        </small>
                    </li>
                    <li class="list-group-item border border-light">
                        <small>
                            <span class="float-start">Toplam tutar: </span></small>
                        <span class="float-end text-danger">
                            <strong>{{calculateTotalAmount() | currency:"":""}}₺</strong>
                        </span>
                    </li><br>
                    <li class="list-group border border-light">
                        <span class="d-flex flex-column float-end">
                            <a onClick="alert('Ödeme işlemi henüz yapılamıyor')" class="btn btn-success">Sepeti Onayla</a>
                        </span>
                    </li>
                </ul>
                
            </div>
        </div>
    </div>
</div>